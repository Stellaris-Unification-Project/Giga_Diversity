#Adding the Lifeless Temperate Terraform modifier to a Habitat

#This is for Barren and Barren Cold Hab also covers the Frozen Habs that are not the hydrocabon hab variant
decision_ll_temperate_terraform = {
	owned_planets_only = yes
	#icon = decision_ecoarcology_project
	prerequisites = { giga_tech_terraform_barren }
	enactment_time = 3780
	resources = {
		category = decisions
		cost = {
			influence = 75
			alloys = 7260
			energy = 3360
		}
	}
	potential = {
	#TODO add additional tech requirements
		NOR = {
			has_global_flag = planetaryterraformimpossible
			has_global_flag = terraform_barren_disabled
			#If everything is coded correctly in PD then terraforming_candidate is always replaced with hab_terraforming_candidate. checking for both in case there are any errors in code
			has_modifier = terraforming_candidate
			has_modifier = hab_terraforming_candidate
			#Commented out exotic. Enable additional checks as needed for extotic checks. For ease of copying code
			#has_modifier = terraforming_ash
			#has_modifier = terraforming_ammonia
			#has_modifier = terraforming_sulfur
			#has_modifier = terraforming_methane

		}
		NOT = { has_modifier = lifeless_temperate_terrafrom }
		OR = {
			is_planet_class = pc_pd_barren_hab
			is_planet_class = pc_pd_barren_cold_hab
			AND = { is_planet_class = pc_pd_frozen_hab NOT = { has_planet_flag = pdhab_hydrocarbon } }
		}
	}
	effect = {
		# Add Terraform Modifier that allows terraform into a lifeless world
		hidden_effect = {
			#remove_planet_flag = pdhab #TODO add this flag removal to terraforming
			#remove_planet_flag = pdhab_diamond #TODO add this flag removal to terraforming
			#remove_planet_flag = pdhab_iron #TODO add this flag removal to terraforming
			#remove_planet_flag = pdhab_carbon #TODO add this flag removal to terraforming
			#remove_planet_flag = pdhab_chthonian #TODO add this flag removal to terraforming 
			#remove_planet_flag = pdhab_subglacial #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_mining_hab #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_hab_d1 #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_hab_d2 #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_energy_hab #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_science_hab #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_commercial_hab #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_farming_hab #TODO add this flag removal to terraforming 
			#remove_planet_flag = pd_foundry_hab #TODO add this flag removal to terraforming
			add_modifier = { modifier = lifeless_temperate_terrafrom }
			#giga_reroll_lifeless = yes #TODO add this flag removal to terraforming checks
		}
	}
	ai_weight = { weight = 5 }
}