@terraforming_cost_level_1 = 2000 #<-- same category terraforming
@terraforming_cost_level_2 = 5000 #<-- different category terraforming
@terraforming_cost_level_3 = 10000 #<-- Hive and machine
@terraforming_cost_level_4 = 15000 #<-- climate restoration
@terraforming_cost_gaia = 7500
@terraforming_duration_level_1 = 1800 #<-- same category terraforming
@terraforming_duration_level_2 = 3600 #<-- different category terraforming
@terraforming_duration_level_3 = 5400 #<-- opposite category terraforming and uninhabitable to inhabitable terraforming
@terraforming_duration_level_4 = 7200 #<-- special terraforming, e.g. to gaia, machine world etc.
@terraforming_duration_gaia = 3600
@hiveCost = 10000
@hiveTime = 7200


#Molten Habitat - Volcanic Variant
terraform_link = {
	from = pc_pd_molten_hab
	to = pc_sulfur
	resources = {
		category = terraforming
		cost = { energy = @terraforming_cost_level_2 }
	}
	duration = @terraforming_duration_level_2
	potential = {
		AND = {
			from = { has_modifier = terraforming_sulfur }
			from = { has_planet_flag = pdhab_volcanic }
			has_global_flag = planetarydiversityexotics
		}
	}
	condition = {	
		AND = {
			has_technology = "tech_sulfur_terraform"
			from = { has_modifier = terraforming_methane }
			from = { has_planet_flag = pdhab_volcanic }
			has_global_flag = planetarydiversityexotics
		}
	}
	effect = {
		from = {
			remove_planet_flag = pdhab_volcanic
			remove_modifier = terraforming_ash
			remove_modifier = gd_molten_terraforming_identify_techtonic_hotspots
			remove_modifier = gd_molten_terraforming_cooling_beam_facilities
			remove_modifier = gd_molten_terraforming_solar_capture_array
			remove_modifier = gd_molten_terraforming_reactor_grid
			remove_deposit = d_expanded_dome_system
			remove_deposit = d_expanded_dome_system_1
			remove_modifier = terraforming_ammonia
			remove_modifier = terraforming_sulfur
			remove_modifier = terraforming_methane
			remove_modifier = pdammoniaatmosphere
			remove_modifier = pdsulfuratmosphere
			remove_modifier = pdmethaneatmosphere
			remove_modifier = pdashatmosphere
			remove_modifier = hab_terraforming_candidate
			remove_modifier = terraforming_candidate
			remove_modifier = terraforming_candidate
			remove_modifier = gpm_habitat_engineering
			remove_modifier = gpm_habitat_engineering_mastery
			remove_modifier = gpm_habitat_engineering_void_mastery
			remove_modifier = pdhabvolcanicminerals
			reroll_deposits = yes
			remove_modifier = master_builders_habitats
			remove_building = building_hab_capital
			remove_building = building_hab_capital
			add_building = building_major_capital
		}
		owner = {
			subtract_variable = { which = habitat_count value = 1 }
			giga_calculate_allowed_habitats = yes
		}
	}
	ai_weight = {	
		weight = 5	
		modifier = { factor = 0 NOT = { owner_species = { has_trait = trait_pc_sulfur_preference } } }	
	}
}

#Hydrocarbon Habitat
terraform_link = {
	from = pc_pd_frozen_hab
	to = pc_methane
	resources = {
		category = terraforming
		cost = { energy = @terraforming_cost_level_2 }
	}
	duration = @terraforming_duration_level_2	
	potential = {	
		AND = {	
			from = { has_modifier = terraforming_methane }
			from = { has_planet_flag = pdhab_hydrocarbon }
			has_global_flag = planetarydiversityexotics
		}
	}
	condition = {	
		AND = {	
			has_technology = "tech_methane_terraform"
			from = { has_modifier = terraforming_methane }
			from = { has_planet_flag = pdhab_hydrocarbon }
			has_global_flag = planetarydiversityexotics
		}
	}
	effect = {
		from = {
			remove_planet_flag = pdhab_hydrocarbon
			remove_modifier = terraforming_methane
			remove_modifier = gd_convert_toxic_phase_1
			remove_modifier = gd_convert_toxic_phase_2
			remove_modifier = gd_convert_toxic_phase_3
			remove_modifier = gd_convert_toxic_phase_4
			remove_deposit = d_expanded_dome_system
			remove_deposit = d_expanded_dome_system_1
			remove_modifier = terraforming_ammonia
			remove_modifier = terraforming_sulfur
			remove_modifier = terraforming_ash
			remove_modifier = pdammoniaatmosphere
			remove_modifier = pdsulfuratmosphere
			remove_modifier = pdmethaneatmosphere
			remove_modifier = pdashatmosphere
			remove_modifier = hab_terraforming_candidate
			remove_modifier = terraforming_candidate
			remove_modifier = terraforming_candidate
			remove_modifier = gpm_habitat_engineering
			remove_modifier = gpm_habitat_engineering_mastery
			remove_modifier = gpm_habitat_engineering_void_mastery
			remove_modifier = pdhabsubglacialocean
			reroll_deposits = yes
			remove_modifier = master_builders_habitats
			remove_building = building_hab_capital
			remove_building = building_hab_capital
			add_building = building_major_capital
		}
		owner = {
			subtract_variable = { which = habitat_count value = 1 }
			giga_calculate_allowed_habitats = yes
		}
	}
	ai_weight = {	
		weight = 5	
		modifier = { factor = 0 NOT = { owner_species = { has_trait = trait_pc_methane_preference } } }	
	}
}

